[gd_scene load_steps=57 format=3 uid="uid://ogyy8baigju7"]

[ext_resource type="Script" path="res://scenes/main_scene.gd" id="1_360tj"]
[ext_resource type="PackedScene" uid="uid://ch2tce3apyupm" path="res://scenes/audience_scene.tscn" id="1_jkj1t"]
[ext_resource type="AudioStream" uid="uid://djdhb5i85jt1r" path="res://sounds/first_theme.wav" id="3_ikp7g"]
[ext_resource type="PackedScene" uid="uid://ddgrbicc6wra1" path="res://scenes/note.tscn" id="3_v4aav"]
[ext_resource type="Script" path="res://scenes/Queue.gd" id="4_oeoi5"]
[ext_resource type="Script" path="res://scenes/Hitbox.gd" id="5_ouxpd"]
[ext_resource type="Texture2D" uid="uid://dglavfb3x1wha" path="res://2d_assets/target.png" id="7_htaql"]
[ext_resource type="Script" path="res://scenes/Conductor.gd" id="8_k2htu"]
[ext_resource type="Script" path="res://scenes/HitPoints.gd" id="10_lnlax"]
[ext_resource type="AudioStream" uid="uid://ch4u36w8i6cmm" path="res://sounds/drum.wav" id="10_p0n5f"]
[ext_resource type="Texture2D" uid="uid://bom18uiyfqaos" path="res://2d_assets/background.PNG" id="11_qybty"]
[ext_resource type="PackedScene" uid="uid://csf7hwl2xupvk" path="res://scenes/main_character.tscn" id="12_56j7o"]
[ext_resource type="PackedScene" uid="uid://clctwunmua37r" path="res://scenes/fade_to_black.tscn" id="12_775nf"]
[ext_resource type="Script" path="res://scenes/SoundEffects.gd" id="13_c2dnf"]
[ext_resource type="AudioStream" uid="uid://c4t7meh4fjsji" path="res://sounds/frog.wav" id="14_oem5j"]
[ext_resource type="AudioStream" uid="uid://c4lwfrxrbvj5q" path="res://sounds/kakku.wav" id="16_eeskf"]
[ext_resource type="Script" path="res://scenes/Camera2D_controller.gd" id="16_l2k7v"]
[ext_resource type="Texture2D" uid="uid://c1ap6r7puoay1" path="res://2d_assets/press.png" id="17_wobx4"]
[ext_resource type="Script" path="res://scenes/tutorial_controller.gd" id="17_xkyt2"]
[ext_resource type="AudioStream" uid="uid://b4ldq8y1fcpkp" path="res://sounds/sock.wav" id="17_ytgmh"]
[ext_resource type="AudioStream" uid="uid://yarw5tlxmups" path="res://sounds/naurutaputus.wav" id="18_8xvct"]
[ext_resource type="Texture2D" uid="uid://dcos4pm5lmit2" path="res://2d_assets/beat_icon_drum.png" id="18_au8vw"]
[ext_resource type="AudioStream" uid="uid://cvi5d1j7lwpkr" path="res://sounds/final_theme.wav" id="19_251bp"]
[ext_resource type="Texture2D" uid="uid://wklu20mtih27" path="res://2d_assets/beat_control_cake.png" id="19_jttmg"]
[ext_resource type="AudioStream" uid="uid://deoh3o8pu6vlw" path="res://sounds/balloons_pop.wav" id="19_x1l7v"]
[ext_resource type="Texture2D" uid="uid://cfn0sug1tioik" path="res://2d_assets/black_screen_hole.png" id="21_eqvij"]
[ext_resource type="AudioStream" uid="uid://dvgksipab6e8x" path="res://sounds/howl.wav" id="21_nfaba"]
[ext_resource type="AudioStream" uid="uid://bo71fdk27n0nf" path="res://sounds/murinaa.wav" id="22_8jm8s"]
[ext_resource type="Script" path="res://scenes/ending.gd" id="22_hj6sj"]
[ext_resource type="Texture2D" uid="uid://bqce7cb2eb7al" path="res://2d_assets/logo/logo_jokes.png" id="23_okwnx"]
[ext_resource type="Texture2D" uid="uid://0fj1sr4fc646" path="res://2d_assets/logo/logo_on.png" id="24_1iuas"]
[ext_resource type="Texture2D" uid="uid://dn6y3siguckja" path="res://2d_assets/logo/logo_you.png" id="25_syiuq"]
[ext_resource type="Texture2D" uid="uid://da4mq6j7jpwmx" path="res://2d_assets/logo/credits_arhi.png" id="26_tlvdp"]
[ext_resource type="Texture2D" uid="uid://e5hl8waapqlw" path="res://2d_assets/logo/credits_tia.png" id="27_704hq"]
[ext_resource type="Texture2D" uid="uid://b8f32kwo04svk" path="res://2d_assets/logo/credits_topi.png" id="28_wka4v"]
[ext_resource type="Texture2D" uid="uid://bbsr3arxylcy2" path="res://2d_assets/logo/credits_ggj.png" id="29_m0h3c"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n647k"]
size = Vector2(192, 187)

[sub_resource type="Animation" id="Animation_rskvc"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(960, 479)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("tutorial/hole:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-120, -50)]
}

[sub_resource type="Animation" id="Animation_fxm2n"]
resource_name = "ending_zoom"
length = 9.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(4, 7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(960, 540), Vector2(983, 481)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Camera2D:zoom")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(4, 7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(5, 5)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("tutorial/hole:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(4, 4.5, 7),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(4, 4), Vector2(4, 4), Vector2(0.06, 0.06)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("tutorial/hole:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(4, 4.5, 7),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(-1862, 300), Vector2(-1862, 300), Vector2(3.99999, -53)]
}

[sub_resource type="Animation" id="Animation_ksow7"]
resource_name = "game"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Camera2D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(960, 540)]
}

[sub_resource type="Animation" id="Animation_y0kvt"]
resource_name = "start_zoom"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(960, 479)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Camera2D:zoom")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2, 2)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("tutorial/hole:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-120, -50)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("tutorial/hole:scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.3, 0.3)]
}

[sub_resource type="Animation" id="Animation_4u4l4"]
resource_name = "start_zoom_out"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.1, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(960, 479), Vector2(960, 540)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Camera2D:zoom")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.1, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(2, 2), Vector2(1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("tutorial/hole:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.1, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0.3, 0.3), Vector2(4, 4)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("tutorial/hole:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.1, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-120, -50), Vector2(-1862, 310)]
}

[sub_resource type="Animation" id="Animation_gn7ao"]
resource_name = "zoom_to_face"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(2, 3, 3.6),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(960, 540), Vector2(960, 540), Vector2(981, 479)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Camera2D:zoom")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(2, 3, 3.6),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1, 1), Vector2(2, 2)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_hwrgw"]
_data = {
"RESET": SubResource("Animation_rskvc"),
"ending_zoom": SubResource("Animation_fxm2n"),
"game": SubResource("Animation_ksow7"),
"start_zoom": SubResource("Animation_y0kvt"),
"start_zoom_out": SubResource("Animation_4u4l4"),
"zoom_to_face": SubResource("Animation_gn7ao")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_r44va"]
animation = &"ending_zoom"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0kpq6"]
animation = &"game"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ixfm2"]
animation = &"start_zoom"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ejdaf"]
animation = &"start_zoom_out"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_itcel"]
animation = &"zoom_to_face"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_f8kwd"]
switch_mode = 1
advance_mode = 2
advance_condition = &"zoom_in"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l82qb"]
advance_mode = 2
advance_condition = &"game_camera"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sht6w"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kle01"]
advance_mode = 2
advance_condition = &"game_started"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_re6sg"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t5txk"]
switch_mode = 1
advance_mode = 2
advance_condition = &"ending"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_5nwjc"]
states/Start/position = Vector2(-4, 36)
states/ending_zoom/node = SubResource("AnimationNodeAnimation_r44va")
states/ending_zoom/position = Vector2(606, -95)
states/game/node = SubResource("AnimationNodeAnimation_0kpq6")
states/game/position = Vector2(488, 36)
states/start_zoom/node = SubResource("AnimationNodeAnimation_ixfm2")
states/start_zoom/position = Vector2(140, -34)
states/start_zoom_out/node = SubResource("AnimationNodeAnimation_ejdaf")
states/start_zoom_out/position = Vector2(273, 63)
states/zoom_to_face/node = SubResource("AnimationNodeAnimation_itcel")
states/zoom_to_face/position = Vector2(595, 134)
transitions = ["game", "zoom_to_face", SubResource("AnimationNodeStateMachineTransition_f8kwd"), "zoom_to_face", "game", SubResource("AnimationNodeStateMachineTransition_l82qb"), "Start", "start_zoom", SubResource("AnimationNodeStateMachineTransition_sht6w"), "start_zoom", "start_zoom_out", SubResource("AnimationNodeStateMachineTransition_kle01"), "start_zoom_out", "game", SubResource("AnimationNodeStateMachineTransition_re6sg"), "game", "ending_zoom", SubResource("AnimationNodeStateMachineTransition_t5txk")]
graph_offset = Vector2(-221, -119)

[node name="main_scene" type="Node2D"]
script = ExtResource("1_360tj")

[node name="audience_scene" parent="." instance=ExtResource("1_jkj1t")]

[node name="Conductor" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_ikp7g")
script = ExtResource("8_k2htu")

[node name="StartTimer" type="Timer" parent="Conductor"]

[node name="Controller" type="Node2D" parent="."]
z_index = 1
position = Vector2(-225, 70)
script = ExtResource("4_oeoi5")

[node name="Hitbox" type="Area2D" parent="Controller"]
script = ExtResource("5_ouxpd")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Controller/Hitbox"]
shape = SubResource("RectangleShape2D_n647k")

[node name="Sprite2D" type="Sprite2D" parent="Controller/Hitbox"]
scale = Vector2(0.2, 0.2)
texture = ExtResource("7_htaql")

[node name="Note" parent="Controller" instance=ExtResource("3_v4aav")]
position = Vector2(-90, -351)

[node name="HitPoints" type="Node2D" parent="Controller"]
position = Vector2(1149, -26)
script = ExtResource("10_lnlax")

[node name="background" type="Sprite2D" parent="."]
texture = ExtResource("11_qybty")
centered = false

[node name="fade_to_black" parent="." instance=ExtResource("12_775nf")]
visible = false

[node name="main_character" parent="." instance=ExtResource("12_56j7o")]
position = Vector2(978, 703)

[node name="LevelChangeTimer" type="Timer" parent="."]

[node name="SoundEffects" type="Node" parent="."]
script = ExtResource("13_c2dnf")

[node name="Frog" type="AudioStreamPlayer2D" parent="SoundEffects"]
stream = ExtResource("14_oem5j")

[node name="Drum" type="AudioStreamPlayer" parent="SoundEffects"]
stream = ExtResource("10_p0n5f")

[node name="Cake" type="AudioStreamPlayer2D" parent="SoundEffects"]
stream = ExtResource("16_eeskf")

[node name="Sock" type="AudioStreamPlayer2D" parent="SoundEffects"]
stream = ExtResource("17_ytgmh")

[node name="Laugh" type="AudioStreamPlayer2D" parent="SoundEffects"]
stream = ExtResource("18_8xvct")

[node name="FinalTheme" type="AudioStreamPlayer2D" parent="SoundEffects"]
stream = ExtResource("19_251bp")

[node name="BalloonsPop" type="AudioStreamPlayer2D" parent="SoundEffects"]
stream = ExtResource("19_x1l7v")

[node name="Howl" type="AudioStreamPlayer2D" parent="SoundEffects"]
stream = ExtResource("21_nfaba")

[node name="Murina" type="AudioStreamPlayer2D" parent="SoundEffects"]
stream = ExtResource("22_8jm8s")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(960, 479)
script = ExtResource("16_l2k7v")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Camera2D"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_hwrgw")
}

[node name="AnimationTree" type="AnimationTree" parent="Camera2D"]
active = false
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_hwrgw")
}
tree_root = SubResource("AnimationNodeStateMachine_5nwjc")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/ending = false
parameters/conditions/game_camera = false
parameters/conditions/game_started = false
parameters/conditions/zoom_in = false

[node name="game_over_timer" type="Timer" parent="."]
one_shot = true

[node name="tutorial" type="Node2D" parent="."]
z_index = 10
position = Vector2(953, 530)
script = ExtResource("17_xkyt2")

[node name="press" type="Sprite2D" parent="tutorial"]
position = Vector2(25, -228)
scale = Vector2(0.1, 0.1)
texture = ExtResource("17_wobx4")

[node name="drum" type="Sprite2D" parent="tutorial"]
position = Vector2(28, -153)
scale = Vector2(0.15, 0.15)
texture = ExtResource("18_au8vw")

[node name="control" type="Sprite2D" parent="tutorial/drum"]
z_index = 1
position = Vector2(-13.3333, 6.66667)
texture = ExtResource("19_jttmg")

[node name="hole" type="Sprite2D" parent="tutorial"]
z_index = 60
position = Vector2(-120, -50)
scale = Vector2(4, 4)
texture = ExtResource("21_eqvij")

[node name="Timer" type="Timer" parent="tutorial"]
one_shot = true

[node name="ending" type="Node2D" parent="."]
z_index = 101
script = ExtResource("22_hj6sj")

[node name="jokes" type="Sprite2D" parent="ending"]
position = Vector2(982.65, 428.2)
scale = Vector2(0.1, 0.1)
texture = ExtResource("23_okwnx")

[node name="on" type="Sprite2D" parent="ending"]
position = Vector2(981.65, 453.2)
scale = Vector2(0.05, 0.05)
texture = ExtResource("24_1iuas")

[node name="you" type="Sprite2D" parent="ending"]
position = Vector2(984, 503)
scale = Vector2(0.1, 0.1)
texture = ExtResource("25_syiuq")

[node name="jokes_timer" type="Timer" parent="ending"]
one_shot = true

[node name="on_timer" type="Timer" parent="ending"]
one_shot = true

[node name="you_timer" type="Timer" parent="ending"]
one_shot = true

[node name="credits_timer" type="Timer" parent="ending"]
one_shot = true

[node name="credits" type="Node2D" parent="ending"]
position = Vector2(1, -33)

[node name="arhi" type="Sprite2D" parent="ending/credits"]
position = Vector2(1064, 600)
scale = Vector2(0.05, 0.05)
texture = ExtResource("26_tlvdp")

[node name="tia" type="Sprite2D" parent="ending/credits"]
position = Vector2(903, 600)
scale = Vector2(0.05, 0.05)
texture = ExtResource("27_704hq")

[node name="topi" type="Sprite2D" parent="ending/credits"]
position = Vector2(991, 600)
scale = Vector2(0.05, 0.05)
texture = ExtResource("28_wka4v")

[node name="end_timer_character_mark" type="Timer" parent="."]
one_shot = true

[connection signal="beat" from="Conductor" to="Controller" method="_on_conductor_beat"]
[connection signal="body_entered" from="Controller/Hitbox" to="Controller/Note" method="_on_hitbox_body_entered"]
[connection signal="body_exited" from="Controller/Hitbox" to="Controller/Note" method="_on_hitbox_body_exited"]
[connection signal="timeout" from="LevelChangeTimer" to="." method="_on_level_change_timer_timeout"]
[connection signal="timeout" from="game_over_timer" to="." method="_on_game_over_timer_timeout"]
[connection signal="timeout" from="tutorial/Timer" to="tutorial" method="_on_timer_timeout"]
[connection signal="timeout" from="ending/jokes_timer" to="ending" method="_on_jokes_timer_timeout"]
[connection signal="timeout" from="ending/on_timer" to="ending" method="_on_on_timer_timeout"]
[connection signal="timeout" from="ending/you_timer" to="ending" method="_on_you_timer_timeout"]
[connection signal="timeout" from="ending/credits_timer" to="ending" method="_on_credits_timer_timeout"]
[connection signal="timeout" from="end_timer_character_mark" to="." method="_on_end_timer_character_mark_timeout"]
